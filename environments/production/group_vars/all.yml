# =================================
# environments/production/group_vars/all.yml
# =================================
---
slack_channel: "splunk-enterprise-ansible"
salck_token: "xapp-1-A0946G51ESJ-9139571331235-41d935eecd1d556bfbf59a5bf14f9c838c8154f6b1410d1cf0c1b2b9c1581493"
splunk_uri_lm: https://splunk-mgmt:8089
ansible_user: ansible
ansible_ssh_private_key_file: /home/jamel/.ssh/ansible_key
ansible_ssh_common_args: '-o StrictHostKeyChecking=no'
ansible_become: true
ansible_become_method: sudo
ansible_become_pass: ansible123

splunk_package_path: /tmp
git_local_clone_path: /tmp
splunk_download_local: true

git_server: "git@github.com:gusdebbaja"
git_project: "splunk-apps"
git_key: "/home/jamel/.ssh/git_key"  # Absolute path
monorepo_checkout_dir: "/tmp/splunk-apps-checkout"

git_apps:
  - name: ssl_enablement
    git_server: "git@github.com:gusdebbaja"
    git_project: "splunk-apps"
    app_relative_path: "/common/ssl_enablement/"
    splunk_app_deploy_path: "etc/apps"
    
  - name: indexer_apps  
    git_server: "git@github.com:gusdebbaja"
    git_project: "splunk-apps"
    app_relative_path: "/indexers/"
    splunk_app_deploy_path: "etc/apps"

# License Master URI (all peers will connect to this)
splunk_uri_lm: https://splunk-mgmt:8089

# Deployment Server URI (for forwarders)
splunk_uri_ds: https://splunk-mgmt:8089

# System Configuration
update_system_packages: true
splunk_package_version: 9.4.0
build_id: 6b4ebe426ca6

# Admin Credentials
splunk_admin_username: admin
splunk_admin_password: admin123

# Basic Splunk Configuration
splunk_install_path: /opt
splunk_nix_user: splunk
splunk_nix_group: splunk

# License Configuration
splunk_license_group: Enterprise 
splunk_license_file: 
  - "Splunk.license"

splunk_uri_cm: https://splunk-mgmt:8089
splunk_uri_ds: https://splunk-mgmt:8089

# IDXC Vars
splunk_idxc_key: mypass4symmkey
splunk_idxc_rf: 2
splunk_idxc_sf: 2
splunk_idxc_rep_port: 9887
splunk_idxc_label: myidxc

# SHC Vars
splunk_shc_key: mypass4symmkey
splunk_shc_label: augment_shc
splunk_shc_rf: 3
splunk_shc_rep_port: 8100
splunk_shc_target_group: augment_shc
splunk_shc_deployer: "{{ groups['shdeployer'] | first }}"  # If you manage multiple SHCs, configure the var value in group_vars
splunk_shc_uri_list: "{% for h in groups[splunk_shc_target_group] %}https://{{ hostvars[h].splunk_mgmt_uri }}:{{ splunkd_port }}{% if not loop.last %},{% endif %}{% endfor %}"  # If you manage multiple SHCs, configure the var value in group_vars

# Network Configuration
splunk_mgmt_uri: "{{ ansible_fqdn | default(ansible_default_ipv4.address) }}"
splunkd_port: 8089

# Service Configuration
splunk_use_systemd: true
splunk_create_polkit: 1

# Security
splunk_general_key: "SuperSecretPassKey"
splunk_ds_key: "dpskey"
splunk_configure_secret: false

# Firewall Configuration
configure_firewall: true
#splunk_firewall_ports:
#  - "{{ splunkweb_port }}"
#  - "{{ splunkapi_port }}"

# System Optimization
install_utilities: false
use_tuned_thp: true

# Maintenance Scripts
add_crashlog_script: true
add_diag_script: true
add_pstack_script: true
configure_dmesg: false